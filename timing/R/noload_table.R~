wps <- c(8,24,48,100)
for (wp in wps) {

inputfile <- paste(c("../data/noload_wp",wp,".csv"),collapse="")
data <- read.csv(inputfile,header=TRUE,sep=";")

trimmedmean <- function(x) {
	#return <- mean(x, trim=0.10)
	return <- mean(x)
}

datamean <- aggregate(data,by=list(data$Cores,data$Workpakets,data$Input.Size),FUN=trimmedmean)

inputsizes <- unique(datamean$Input.Size)

str <- paste(c("\\subsection*{k=",wp," Workpackets}\n","\\begin{tabular}{l|l|l|l|l|l|l}\n"),collapse="")
str_hdr <- "Input Size	& MALMS		& MCSTL		& STD::SORT	& MCSTL Adv	& MALMS SU	& MCSTL SU \\\\\n\\hline\n"
str <- paste(c(str,str_hdr),collapse="")
for (size in inputsizes) {
	
}
	data <- datamean[which(datamean$Input.Size == size),]
	str <- paste(c(str, "$10^",log(size,base=10),"$		& "),collapse="")
	str <- paste(c(str, round(data$Time.MALMS,digits=6), "	& "),collapse="")
	str <- paste(c(str, round(data$Time.MCSTL,digits=6), "	& "),collapse="")
	str <- paste(c(str, round(data$Time.STDSORT,digits=6), "	& "),collapse="")

	str <- paste(c(str, round(100-data$Time.MCSTL*100/data$Time.MALMS,digits=1), "	& "),collapse="")
	
	str <- paste(c(str, round(data$Time.STDSORT/data$Time.MALMS,digits=6), "	& "),collapse="")
	str <- paste(c(str, round(data$Time.STDSORT/data$Time.MCSTL,digits=6), "\\% \\\\\n"),collapse="")
}
str <- paste(c(str, "\\end{tabular}\n\n"),collapse="")
writeLines(str)
}
